<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Understanding Ansible HttpApi plugins</title>
	<meta name="description" content="How to write an HttpApi plugin. These let you interact with HTTP APIs better.">
	<link rel="stylesheet" href="/css/index.css">
	<link rel="stylesheet" href="/css/prism-base16-monokai.dark.css">
	<link rel="alternate" href="/feed/feed.xml" type="application/atom+xml"
		  title="lilatomic">
	<link rel="alternate" href="/feed/feed.json" type="application/json"
		  title="lilatomic">
</head>
<body>
<div class="ctn">
	<header>
		<h1 class="home"><a id="home" href="/">lilatomic</a></h1>
	</header>
	<div id="main">
		<main  class="tmpl-post" >

			
<article>


<h1>Understanding Ansible HttpApi plugins</h1>


<aside id="tagbox">
<p>Tags</p>

  <a href="/tags/ansible/" class="post-tag">ansible</a>
</aside>



<aside id="seriesbox">
<p> Member of series: </p>

  
  <a href="/series/ansible plugins/" class="post-tag">ansible plugins</a>

</aside>


  
  <aside id="toc">
    <nav class="toc">
        <ol><li><a href="#adapting-the-httpapi-plugin">Adapting the HttpApi plugin</a></li><li><a href="#understanding-the-httpapi-connection-structure%3A">Understanding the HttpApi connection structure:</a></li><li><a href="#implementing-the-httpapi-stack">Implementing the HttpApi stack</a><ol><li><a href="#httpapi-plugin">HttpApi plugin</a></li><li><a href="#module">Module</a></li><li><a href="#supply-connection-information">Supply connection information</a></li><li><a href="#delegate-tasks-to-the-connection">Delegate tasks to the connection</a></li></ol></li><li><a href="#other-features-of-httpapi-plugins">Other features of HttpApi Plugins</a></li><li><a href="#tradeoffs">Tradeoffs</a></li></ol></nav>
  </aside>
  
<div class="content">
<h1 id="understanding-ansible-httpapi-plugins">Understanding Ansible HttpApi plugins <a class="direct-link" href="#understanding-ansible-httpapi-plugins">#</a></h1>
<blockquote>
<p>TL;DR: I wouldn't recommend this method. It's not actually that good.</p>
</blockquote>
<p>It's common to need to interact with HTTP APIs in an Ansible playbook. The standard method involves using the <code>uri</code> module or a <code>command</code> with <code>curl</code>. These can be clunky, especially when common connection parameters have to be copypasted between tasks. These also mix the concerns of the connection from those of the actual request. For example, the cert for mTLS has nothing to do with the body being submitted to the API.</p>
<p>Looking through the list of plugin types in Ansible, there's something called an <code>httpapi</code> plugin. <a href="https://docs.ansible.com/ansible/latest/plugins/httpapi.html">The documentation</a> is a bit light, but it's described as:</p>
<blockquote>
<p>HttpApi plugins tell Ansible how to interact with a remote deviceâ€™s HTTP-based API and execute tasks on the device.</p>
</blockquote>
<p>This isn't <em>exactly</em> what we're after. It's really set up for devices like network switches where SSH isn't really the intended connection method.</p>
<h2 id="adapting-the-httpapi-plugin">Adapting the HttpApi plugin <a class="direct-link" href="#adapting-the-httpapi-plugin">#</a></h2>
<p>But being able to submit HTTP requests is about 100% of what we need, so we might be able to just use it with a little adapting. There are several steps involved in creating an HttpApi plugin:</p>
<ol>
<li>Create HttpApi plugin</li>
<li>Create Module for invoking the plugin</li>
</ol>
<p>And for using it, it's fairly simple:</p>
<ol>
<li>Supply connection information</li>
<li>Delegate tasks to that connection</li>
</ol>
<h2 id="understanding-the-httpapi-connection-structure%3A">Understanding the HttpApi connection structure: <a class="direct-link" href="#understanding-the-httpapi-connection-structure%3A">#</a></h2>
<p>The flow for how HttpApi plugins work is a bit involved with a few unexpected outcomes. The flow is as follows:</p>
<ol>
<li>an Ansible task requests the <code>httpapi</code> connection type, possibly with the <code>ansible_connection</code> parameter</li>
<li>the connection type has parameters which specify the <code>ansible_network_os</code>. This is used to look up which <code>httpapi</code> plugin to use</li>
<li>if the connection has not already been established, ansible uses the <code>ansible-connection</code> command to create it in a separate process. Getting messages back from the connection is weird, as they are only flushed at the <em>start</em> of every task, after the connection has been established. Using <code>queue_message</code> during a module will cause those messages to be displayed at the start of the <em>next</em> module invocation which uses that connection.</li>
<li>A Module will be invoked and can instantiate its connection to the httpapi plugin. This is basically just a wrapper around the socket path to the connection created above.</li>
<li>The connection will allow the Module to send requests through the httpapi plugin</li>
<li>The httpapi plugin send the requests through to <em>its</em> connection, which is the <code>ansible.netcommon.httpapi</code> connection plugin. This connection plugin has a method for enriching an HTTP request</li>
<li>the connection plugin shells out to the util <code>ansible.module_utils.urls.open_url</code>, which is a generic way of making web requests, and eventually shells out to <code>urllib.request.urlopen</code></li>
</ol>
<h2 id="implementing-the-httpapi-stack">Implementing the HttpApi stack <a class="direct-link" href="#implementing-the-httpapi-stack">#</a></h2>
<p>So that's a bit complicated, but it's actually pretty easy to get a barebones version of this:</p>
<h3 id="httpapi-plugin">HttpApi plugin <a class="direct-link" href="#httpapi-plugin">#</a></h3>
<p>.../plugins/httpapi/http.py</p>
<pre class="language-python"><code class="language-python">DOCUMENTATION <span class="token operator">=</span> <span class="token triple-quoted-string string">"""<br><span class="highlight-line">---</span><br><span class="highlight-line">author: lilatomic</span><br><span class="highlight-line">httpapi: http</span><br><span class="highlight-line">short_description: generic http connection</span><br><span class="highlight-line">description: </span><br><span class="highlight-line">  - This HttpApi plugin provides a generic HTTP client. This makes it quicker to interact with HTTP APIs than using the URI module</span><br>"""</span><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token keyword">import</span> json</span><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token keyword">from</span> ansible<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span>httpapi <span class="token keyword">import</span> HttpApiBase</span><br><span class="highlight-line"></span><br><span class="highlight-line">EMPTY_DATA <span class="token operator">=</span> <span class="token builtin">object</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><br><span class="highlight-line"></span><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token keyword">class</span> <span class="token class-name">HttpApi</span><span class="token punctuation">(</span>HttpApiBase<span class="token punctuation">)</span><span class="token punctuation">:</span></span><br><span class="highlight-line">	<span class="token keyword">def</span> <span class="token function">send_request</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> path<span class="token punctuation">,</span> data<span class="token operator">=</span>EMPTY_DATA<span class="token punctuation">,</span> method<span class="token operator">=</span><span class="token string">"GET"</span><span class="token punctuation">,</span> <span class="token operator">**</span>message_kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span></span><br><span class="highlight-line">		<span class="token comment"># set headers for body</span></span><br><span class="highlight-line">		headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept-Encoding'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span></span><br><span class="highlight-line">		<span class="token keyword">if</span> <span class="token keyword">not</span> data <span class="token keyword">or</span> data <span class="token operator">==</span> EMPTY_DATA<span class="token punctuation">:</span></span><br><span class="highlight-line">			data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><br><span class="highlight-line">		<span class="token keyword">else</span><span class="token punctuation">:</span></span><br><span class="highlight-line">			headers<span class="token punctuation">[</span><span class="token string">'Content-Type'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'application/json'</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">		<span class="token comment"># actually send the connection</span></span><br><span class="highlight-line">		r<span class="token punctuation">,</span> r_data <span class="token operator">=</span> self<span class="token punctuation">.</span>connection<span class="token punctuation">.</span>send<span class="token punctuation">(</span>path<span class="token operator">=</span>path<span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">,</span> method<span class="token operator">=</span>method<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">		<span class="token comment"># data is returned as bytes, so we have to pull it out</span></span><br><span class="highlight-line">		r_data_serialisable <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>r_data<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">		<span class="token keyword">return</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">			<span class="token string">"response"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">				<span class="token string">"data"</span><span class="token punctuation">:</span> r_data_serialisable<span class="token punctuation">,</span></span><br><span class="highlight-line">				<span class="token string">"msg"</span><span class="token punctuation">:</span> r<span class="token punctuation">.</span>msg<span class="token punctuation">,</span></span><br><span class="highlight-line">				<span class="token string">"code"</span><span class="token punctuation">:</span> r<span class="token punctuation">.</span>code<span class="token punctuation">,</span></span><br><span class="highlight-line">				<span class="token punctuation">}</span><span class="token punctuation">,</span></span><br><span class="highlight-line">			<span class="token string">"request"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">				<span class="token string">"url"</span><span class="token punctuation">:</span> r<span class="token punctuation">.</span>url</span><br><span class="highlight-line">				<span class="token punctuation">}</span></span><br><span class="highlight-line">			<span class="token punctuation">}</span></span><br><span class="highlight-line"></span></code></pre>
<p>Wow there's actually a lot going on here just to submit requests, and we haven't even gotten into authentication.<br>
This barebones version assumes that everything will be JSON in and JSON out, so we can just set the Content-Type header to that.</p>
<p>Sending the data is done with a call to <code>self.connection.send</code>. As mentioned before, this resolves to the <code>ansible.netcommon.httpapi</code> connection plugin and will eventually make their way to <code>urllib</code>, but not before 2 more layers of munging.</p>
<p>We then have to unload the body ourselves.</p>
<p>For the return, note that we're rebuilding most of the response ourselves. This is because the response will need to be serialised over JSON for interprocess communication back to the main Ansible process. Remember when <code>ansible-connection</code> spun this connection off as a separate process? Well there's also a bespoke JSON-rpc remote-method-invocation framework which fails to serialise most of the things returned by the <code>ansible.netcommon.httpapi</code>. One of the things which fails to return is error messages, so I guess just hope you don't get those...</p>
<h3 id="module">Module <a class="direct-link" href="#module">#</a></h3>
<p>.../plugins/modules/http.py</p>
<pre class="language-python"><code class="language-python"><span class="highlight-line"><span class="token comment">#!/usr/bin/env python</span></span><br><span class="highlight-line"></span><br><span class="highlight-line"></span><br><span class="highlight-line">__metaclass__ <span class="token operator">=</span> <span class="token builtin">type</span></span><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token keyword">from</span> ansible<span class="token punctuation">.</span>module_utils<span class="token punctuation">.</span>basic <span class="token keyword">import</span> AnsibleModule</span><br><span class="highlight-line"><span class="token keyword">from</span> ansible<span class="token punctuation">.</span>module_utils<span class="token punctuation">.</span>connection <span class="token keyword">import</span> Connection</span><br><span class="highlight-line"><span class="token keyword">from</span> ansible<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>display <span class="token keyword">import</span> Display</span><br><span class="highlight-line"></span><br><span class="highlight-line">display <span class="token operator">=</span> Display<span class="token punctuation">(</span><span class="token punctuation">)</span></span><br><span class="highlight-line"></span><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span><br><span class="highlight-line">	argument_spec <span class="token operator">=</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">		<span class="token string">"path"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"str"</span><span class="token punctuation">,</span> <span class="token string">"default"</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span><br><span class="highlight-line">		<span class="token string">"method"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"str"</span><span class="token punctuation">,</span> <span class="token string">"default"</span><span class="token punctuation">:</span> <span class="token string">"GET"</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span><br><span class="highlight-line">		<span class="token string">"data"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"raw"</span><span class="token punctuation">,</span> <span class="token string">"default"</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span><br><span class="highlight-line">		<span class="token punctuation">}</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">	result <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">	module <span class="token operator">=</span> AnsibleModule<span class="token punctuation">(</span>argument_spec<span class="token operator">=</span>argument_spec<span class="token punctuation">)</span></span><br><span class="highlight-line">	<span class="token keyword">try</span><span class="token punctuation">:</span></span><br><span class="highlight-line">		<span class="token comment"># get reference to httpapi process through socket path for RMI</span></span><br><span class="highlight-line">		connection <span class="token operator">=</span> Connection<span class="token punctuation">(</span>module<span class="token punctuation">.</span>_socket_path<span class="token punctuation">)</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">		r <span class="token operator">=</span> connection<span class="token punctuation">.</span>send_request<span class="token punctuation">(</span></span><br><span class="highlight-line">			path<span class="token operator">=</span>module<span class="token punctuation">.</span>params<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span><br><span class="highlight-line">			method<span class="token operator">=</span>module<span class="token punctuation">.</span>params<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"method"</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span><br><span class="highlight-line">			data<span class="token operator">=</span>module<span class="token punctuation">.</span>params<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span><br><span class="highlight-line">			<span class="token punctuation">)</span></span><br><span class="highlight-line">		result<span class="token punctuation">.</span>update<span class="token punctuation">(</span>r<span class="token punctuation">)</span></span><br><span class="highlight-line">		module<span class="token punctuation">.</span>exit_json<span class="token punctuation">(</span><span class="token operator">**</span>result<span class="token punctuation">)</span></span><br><span class="highlight-line">	<span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span></span><br><span class="highlight-line">		module<span class="token punctuation">.</span>fail_json<span class="token punctuation">(</span>msg<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f'</span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">,</span> <span class="token operator">**</span>result<span class="token punctuation">)</span></span><br><span class="highlight-line"></span><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span></span><br><span class="highlight-line">	main<span class="token punctuation">(</span><span class="token punctuation">)</span></span><br><span class="highlight-line"></span></code></pre>
<p>We start with the argument spec. This is sorta nice for automatically performing parameter validation for us. For example, if we mistyped the one of the parameter names, we'd get a warning that that parameter wasn't allowed. That's checked during the AnsibleModule instantiation.</p>
<p>We then get a reference to the httpapi connection, which we defined just above. We use the connection to send the request, which requires us to forward all the parameters. It's a bit cumbersome.</p>
<p>We then need to use the <code>AnsibleModule.exit_json</code> function. This method is the way to return from an Ansible module. These are executed in separate processes and their return values are gathered from stdout. It's certainly a way to do that. In the event of an error, we use the <code>AnsibleModule.fail_json</code> for the same type of thing, but for failure.</p>
<p>Don't forget the shebang and the thing that launches the function is it's invoked.</p>
<h3 id="supply-connection-information">Supply connection information <a class="direct-link" href="#supply-connection-information">#</a></h3>
<p>One of the sneaky ways of adding these connections is to include them as a Host in the inventory file:</p>
<pre class="language-yml"><code class="language-yml"><span class="highlight-line"><span class="token key atrule">all</span><span class="token punctuation">:</span></span><br><span class="highlight-line">  <span class="token key atrule">hosts</span><span class="token punctuation">:</span></span><br><span class="highlight-line">    <span class="token key atrule">httpbin</span><span class="token punctuation">:</span></span><br><span class="highlight-line">      <span class="token key atrule">ansible_connection</span><span class="token punctuation">:</span> <span class="token string">"httpapi"</span></span><br><span class="highlight-line">      <span class="token key atrule">ansible_network_os</span><span class="token punctuation">:</span> <span class="token string">"lilatomic.api.http"</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">      <span class="token key atrule">ansible_host</span><span class="token punctuation">:</span> <span class="token string">"httpbin.org"</span></span><br><span class="highlight-line">      <span class="token key atrule">ansible_port</span><span class="token punctuation">:</span> <span class="token string">"443"</span></span><br><span class="highlight-line">      <span class="token key atrule">ansible_httpapi_use_ssl</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span></code></pre>
<p><strong>ansible_connection</strong> this must be set to <code>httpapi</code>, and tells Ansible to select the <code>httpapi</code> connection plugin.</p>
<p><strong>ansible_network_os</strong> this must match the name of your <code>httpapi</code> plugin.</p>
<p><strong>ansible_host</strong> the host subcomponent of the url</p>
<p><strong>ansible_port</strong> the port</p>
<p><strong>ansible_httpapi_use_ssl</strong> whether to use http or https</p>
<p>I haven't found a way to combine the last 3 parameters. I also haven't found a way to add a start of the URL path component (for example, tomcat-hosted applications are by default hosted at <code>/</code>).</p>
<h3 id="delegate-tasks-to-the-connection">Delegate tasks to the connection <a class="direct-link" href="#delegate-tasks-to-the-connection">#</a></h3>
<p>This is the easiest way of sending the requests to this connection, in my opinion. It's literally just the <code>delegate_to</code> line:</p>
<pre class="language-yml"><code class="language-yml"><span class="highlight-line"><span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> test</span><br><span class="highlight-line">  <span class="token key atrule">hosts</span><span class="token punctuation">:</span> localhost</span><br><span class="highlight-line">  <span class="token key atrule">gather_facts</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">  <span class="token key atrule">tasks</span><span class="token punctuation">:</span></span><br><span class="highlight-line">    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> test get</span><br><span class="highlight-line">      <span class="token key atrule">lilatomic.api.http</span><span class="token punctuation">:</span></span><br><span class="highlight-line">        <span class="token key atrule">path</span><span class="token punctuation">:</span> <span class="token string">"/get"</span></span><br><span class="highlight-line">        <span class="token key atrule">method</span><span class="token punctuation">:</span> <span class="token string">"GET"</span></span><br><span class="highlight-line">      <span class="token key atrule">delegate_to</span><span class="token punctuation">:</span> <span class="token string">"httpbin"</span></span><br><span class="highlight-line">    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> test post</span><br><span class="highlight-line">      <span class="token key atrule">lilatomic.api.http</span><span class="token punctuation">:</span></span><br><span class="highlight-line">        <span class="token key atrule">path</span><span class="token punctuation">:</span> <span class="token string">"/post"</span></span><br><span class="highlight-line">        <span class="token key atrule">method</span><span class="token punctuation">:</span> <span class="token string">"POST"</span></span><br><span class="highlight-line">        <span class="token key atrule">data</span><span class="token punctuation">:</span> <span class="token string">"HIHELLO"</span></span><br><span class="highlight-line">      <span class="token key atrule">delegate_to</span><span class="token punctuation">:</span> <span class="token string">"httpbin"</span></span></code></pre>
<h2 id="other-features-of-httpapi-plugins">Other features of HttpApi Plugins <a class="direct-link" href="#other-features-of-httpapi-plugins">#</a></h2>
<p>The <code>HttpApiBase</code> base class has several other methods:</p>
<ul>
<li>login</li>
<li>logout</li>
<li>update_auth</li>
<li>handle_httperror</li>
</ul>
<p>The only method which isn't a virtual method is the handle_httperror. Its behaviour is to try to authenticate if a 401 is returned.</p>
<p>These methods are also invoked appropriately during the <code>ansible.netcommon.httpapi</code> sessions.</p>
<h2 id="tradeoffs">Tradeoffs <a class="direct-link" href="#tradeoffs">#</a></h2>
<p>So, there's a lot of implementation stuff. And there's a lot of boilerplate. And it's not even correct.<br>
The interface for libraries like <code>requests</code> or <code>urllib3</code> are so much better than this, and don't require any of the machinery to get correct.</p>
<p>There are many other downsides to this approach. The requests happen either in another process or in a module, which is another process. This makes it almost impossible to get trace logging or unexpected errors.<br>
You might also write modules which wrap more complicated operations, like creating a user and granting them permissions. This either needs to happen in a module, so your tracebacks are terrible; or in an action plugin invoking the module multiple times, so now we need to either copypaste the invocations or make <em>another</em> layer as a helper method to invoke the method.<br>
And there are at least 4 layers of munging, so if you're trying to figure out why a GET request is being given <code>&quot;Content-Type&quot;: &quot;application/x-www-form-urlencoded&quot;</code> you might be in for a bad time.</p>
<p>So all-in-all, I wouldn't recommend using this method.</p>

</div>
</article>


<hr>
<aside>
<h2>Revisions</h2>
<ol>
  
  <li> 2021-06-30 : first published </li>
  
</ol>
</aside>


<hr>
<ul><li>Next: <a href="/posts/ansible_better_http_api/">Faking a better HttpApi plugin</a></li><li>Previous: <a href="/posts/ansible_writing_facts_plugin/">Writing a Vars Plugin in Ansible</a></li>
</ul>

		</main>
		<nav class="nav">
			<ul>
				<li class="nav-item"><a
						href="/">Home</a></li>
				<li class="nav-item"><a
						href="/posts/">Archive</a></li>
				<li class="nav-item"><a
						href="/tags/">Tags</a></li>
				<li class="nav-item"><a
						href="/series/">Series</a></li>
				<li class="nav-item"><a
						href="/about/">About Me</a></li>
				<li class="nav-item"><a
						href="/colophon/">Colophon</a></li>
			</ul>
		</nav>
	</div>
</div>
<footer></footer>

<!-- Current page: /posts/ansible_httpapi_plugins/ -->
</body>
</html>
